<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />

    <title>git to the rescue!</title>
    <link rel="stylesheet" href="./dist/reveal.css" />
    <link rel="stylesheet" href="./dist/theme/night.css" id="theme" />
    <link rel="stylesheet" href="./css/highlight/zenburn.css" />
    <link rel="stylesheet" href="./assets/css/custom.css" />

  </head>
  <body>
    <div class="reveal">
      <div class="slides"><section  data-markdown><script type="text/template">
<!-- .slide: id="frontmatter" -->

## git to the rescue!
## Beers 'n' Learn 

<img class="git-img" src="https://git-scm.com/images/logos/downloads/Git-Icon-1788C.png"
     alt="Git icon"
     style="float: center" />
</script></section><section  data-markdown><script type="text/template">
<img class="git-mess" src="https://i.redd.it/kdrpa186gx051.png"
     alt="Git icon"
     style="float: center" />
</script></section><section  data-markdown><script type="text/template">
#### commit hash

```bash
sha1 {
    commit message
    committer
    commit date
    author
    authoring date
    Hash of tree structure for the directory
    Parent hash(es)
}
```
</script></section><section  data-markdown><script type="text/template">
#### git config

Useful for configuring user name and email per repository. 

Suppose my global email is `john.doe@mail.com` and I want to work with another account `jdoe@gmail.com` in a particular repo:

```bash
git config --local user.name "jdoe"
git config --local user.email "jdoe@gmail.com" 
```

Also useful for aliases:

```bash
git config --global alias.lg \
   'log --graph --oneline --decorate --all'
```
</script></section><section  data-markdown><script type="text/template">
#### git remote

Suppose we want to work with two different histories in the same repository:

```bash
git remote -v
> origin git@github.com:ncordon/git-test.git (fetch)
> origin git@github.com:ncordon/git-test.git (push)
```

```bash
git remote add template git@github.com:ncordon/git-template.git
```

```bash
git fetch template
git reset --hard template/master
git remote remove template
```
</script></section><section  data-markdown><script type="text/template"><!-- .slide: id="rebase-ii" -->

#### git rebase

```mermaid
stateDiagram
    [*] --> A
    A --> B
    B --> C
    C --> [*]
```

`git` stores a whole copy of the repo in each node, so what if we left a secret stored since A?
</script></section><section  data-markdown><script type="text/template">
```bash
git rebase -i <commit hash | --root>
```

would let us modify commits that happened after the provided hash.

There is a better editor for the what `rebase prompts`: [`rebase-editor`](https://github.com/sjurba/rebase-editor): 

```bash
git config --global sequence.editor rebase-editor
```
</script></section><section  data-markdown><script type="text/template"><!-- .slide: id="rebase-ii" -->

If we run `git rebase -i A`, hashes would change and we would have to force push to `origin` to the corresponding branch: `git push --force`:

```mermaid
stateDiagram
    [*] --> AA
    AA --> BB
    BB --> CC
    CC --> [*]
```
</script></section><section  data-markdown><script type="text/template">
#### git stash

```mermaid
stateDiagram
    [*] --> A
    A --> master
    A --> B
```

Let's suppose I (squash and) merge the branch into `master`, and continue working in own branch:

</script></section><section  data-markdown><script type="text/template"><!-- .slide: id="stash-ii" -->

```mermaid
stateDiagram
    [*] --> A
    A --> squash
    A --> B
    B --> wip
```

where `wip` has not been commited. Then I could stash it, change to master, and pop from the stash:

```bash
git stash
git checkout master
git fetch origin && git reset --hard origin/master
git checkout -b new-branch
git stash pop
```
</script></section><section  data-markdown><script type="text/template"><!-- .slide: id="cherry-pick" -->

#### git cherry-pick

```mermaid
stateDiagram
    [*] --> A
    A --> squash
    A --> B
    B --> C
```

```bash
git checkout master
git fetch origin && git reset --hard origin/master
git checkout -b new-branch
git cherry-pick C
```
</script></section><section  data-markdown><script type="text/template">
### Thanks for listening
</script></section></div>
    </div>

    <script src="./dist/reveal.js"></script>

    <script src="./plugin/markdown/markdown.js"></script>
    <script src="./plugin/highlight/highlight.js"></script>
    <script src="./plugin/zoom/zoom.js"></script>
    <script src="./plugin/notes/notes.js"></script>
    <script src="./plugin/math/math.js"></script>
    <script>
      function extend() {
        var target = {};
        for (var i = 0; i < arguments.length; i++) {
          var source = arguments[i];
          for (var key in source) {
            if (source.hasOwnProperty(key)) {
              target[key] = source[key];
            }
          }
        }
        return target;
      }

      // default options to init reveal.js
      var defaultOptions = {
        controls: true,
        progress: true,
        history: true,
        center: true,
        transition: 'default', // none/fade/slide/convex/concave/zoom
        plugins: [
          RevealMarkdown,
          RevealHighlight,
          RevealZoom,
          RevealNotes,
          RevealMath
        ]
      };

      // options from URL query string
      var queryOptions = Reveal().getQueryHash() || {};

      var options = extend(defaultOptions, {"transition":"fade"}, queryOptions);
    </script>

    <script src="./assets/mermaid-min.js"></script>
    <script src="./assets/reveal-mermaid.js"></script>

    <script>
      Reveal.initialize(options);
    </script>
  </body>
</html>
